# /learning用CLAUDE.md
このファイルは「/learning配下に作られる全ての学習プロジェクト」に適用される
“生成ルール・実行ルール・制御ルール” を定義するものです。
親の`/.Claude.md`（憲法）を最上位として継承し、この階層では **プロジェクト生成の実務ルールのみ** を記述する。

# 1.　このディレクトリの役割
- 学習目的のミニプロジェクトを無限生成する場所  
- ディレクトリ名は **日付 + 技術名 + テーマ** で管理する  
- 完成度より **回転率** を最優先  
- 「本番風の最小構成」を量産することが目標  
- 技術テンプレ（Laravel/Python/Next.js 等）は**別ファイルに持たず、都度AI生成**  
  → 全技術をここ1枚で扱えるように設計

例:
learning/
├─ 20251128_laravel_service_layer/
├─ 20251130_nextjs_auth_demo/
└─ 20251201_python_batch/

# 2. 学習プロジェクト生成ルール
以下のセリフを私が言ったとき、ClaudeCode は **自動実行ではなく、必ず生成案から提示** する：

> 「Laravel の学習用プロジェクトを作って」  
> 「Next.js の練習テーマほしい」  
> 「Python CLI の課題作って」  
> 「今日の学習プロジェクトくれ」 

ClaudeCode が従うべきプロセスは次のとおり。

## 2-1. ディレクトリ名案の提示（必須）
形式：
`YYYYMMDD_<tech>_<theme>`

例：
- `20251201_laravel_api_search`
- `20251202_nextjs_form_validation`
- `20251203_python_log_parser`

※ 私の「OK」なしに勝手に生成してはならない。

## 2-2. 最小構成の構成案を提示(実行前に必須)
**ClaudeCode は絶対にいきなりファイル生成してはならない。**

必ず構成案を提示する：
### 必須ファイル
- `README.md`（後述）
- `src/`（技術に応じた最小構造）
- `tests/`（最低1つの雛形テスト）

### 任意（必要に応じて）
- `.env.example`
- `Dockerfile`
- `docker-compose.yml`

### README.md の必須項目
ClaudeCode は README を必ず次の構成で設計する：

- 目的  
- 今日の学習テーマ  
- 使用技術（例：Laravel 11 / Python 3.12 / Next.js 14 等）  
- セットアップ手順  
- 実行方法  
- テストの実行方法  
- TODO（今日やることのリスト）

※ 私の「OK」なしに生成してはならない。

## 2-3. OK確認 → ファイル生成（実行フェーズ）
承認後に限り、ClaudeCode は最小限のファイルだけ生成する。

禁止：
- 大量の自動生成  
- テンプレートを勝手に全部書き出す  
- 大量のコードを一気に生成する  

許されているのは「骨組み・雛形」のみ。

## 2-4. 技術別・軽量ルール（テンプレ不要）
技術ごとに以下だけ覚えておけばよい。  
**ClaudeCode は憲法のポリシーに従い、この軽量ルールを併用して構成案を作る。**

### Laravelの場合
- Controller/Service/Repositoryの３層構造推奨
- FormRequest バリデーション
- Feature + Unit テスト 各1つ  
- Docker 必要なら app + db の最小構成

### pythonの場合
- `src/main.py`（CLI） または モジュール構造
- pytest を使う
- 正常系 + 異常系テストを最低1つずつ

### Next.jsの場合
- app router 構成（`app/`）
- API は `app/api/**/route.ts`
- components/ に責務分離
- React Testing Library で1テスト

### Dockerを含む場合
- docker.compose.yml(app+dbの最小構成)
- 環境変数は `.env.example` を生成  
- 不要なコンテナは増やさない

### AWS 要素が必要な場合
- README に構成図を文章で追加  
- IaC は必要があれば CloudFormation/CDK の超最小例を作る  
- SG は最小構成

### ◎ 新技術（Rust / Go / Bun / Deno / SolidJS / Astro / Zig / Kotlin …）
→ 次の「新技術モード」を必ず適用する。

ClaudeCodeはこの基準を踏まえて骨組みを作る。

# 3. 新技術モード(最重要)

## 3-1. 完全初見の技術はこのモードで生成する
ClaudeCode はテンプレがない技術に対して、**以下の標準フロー**で構成案を作ること。

### 1. Hello World + αの難易度
例：
- CLI（入力 → 処理 → 出力）
- 単一API
- 小さなWebサーバ
### 2. その技術の標準手法を最優先で使う
例：
- Rust → Cargo  
- Go → Go標準構成  
- Deno → import map前提  
- Bun → node互換構造  
- SolidJS → src/ + components  
- Astro → pages/ + components
### 3. テストを必ず1つ
Rust → `#[test]`  
Go → `_test.go`  
Python → pytest  
JS → Jest/RTL  
など標準手法を使う。
### 4. README に必須項目を追加
- セットアップコマンド  
- 実行コマンド  
- テストコマンド 
### 5. 初回は絶対に凝らない
- エラーハンドリング最小
- 分割も最小  
- まず **「その技術での基本API・文法・型・エラーハンドリング」に慣れる**を掴むことを優先

## 3-2. 新技術は“後で育てる”
初回プロジェクトが終わったら：

> 「今回の学びを /learning/CLAUDE.md に追記するルール案を作って」

と頼むと、ClaudeCode がその技術の**軽量ルール（数行）** を生成する。
それを手動で追記することで、このファイルが「技術辞典」のように進化していく。

# 4. 自動生成・自動コミットに関する絶対ルール
（※ これらの規則は「/.CLAUDE.md（憲法）」の内容を補強する）

### 4-1. 自動生成の制御
ClaudeCode は：

- 大量生成禁止  
- 雛形のみ生成  
- 既存ファイル編集時は diff 必須  
- 「全部書きますか？」の提案禁止  
- 実装部分の大半を AI が埋める行為禁止  

### 4-2. Git自動操作禁止
ClaudeCode は：

- commit  
- push  
- pull  
- merge/rebase  
- branch作成  

**これらを自動実行してはならない。**
必要な場合：
「手動で実行してください」と案内し、コマンド例だけ提示する。

# 5. 言語設定（日本語固定）

ClaudeCode は：

- 提案  
- 質問  
- 構成案説明  
- OK確認  
- レビューコメント  

これらすべてを **日本語で行うこと**。
コード・API名などは英語で構わないが、**説明と確認は必ず日本語とする。**

# 6. 運用フローまとめ
1. **新技術触りたい！**  
2. ClaudeCodeに：「◯◯完全初見。学習用プロジェクト作って」  
3. ClaudeCodeが：  
   - ディレクトリ名案  
   - 最小構成案  
   - READMEドラフト  
   を提示  
4. 私：「OK」  
5. ClaudeCodeがファイル生成  
6. コーディング → レビュー → 学習  
7. Claudeに：「今回学んだ内容を /learning/CLAUDE.md に追加するルール案ちょうだい」  
8. ファイルの方針を育てていく（自己強化）

# 7. 親ルール
レビュー基準・設計基準・セキュリティ基準・自動生成制限・Git操作禁止・言語設定などの上位方針は
すべて **リポジトリ直下の `/.CLAUDE.md`（憲法）** を継承する。

※ このファイルは「学習プロジェクト生成に関する実務ルール」専用。